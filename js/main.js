!function(e,t,n,a){function o(e){if(!e.match(/^[0-9a-fA-F]+$/))throw new Error("is not a hex string.");e.length%2!=0&&(e="0"+e);for(var t=[],n=0;n<e.length;n+=2){var a=parseInt(e.substr(n,2),16);t.push(a)}return t}function r(){for(var e=0;e<delayScripts.length;++e)!function(e){setTimeout(function(){if(e.src){var t=n.createElement("script");t.async=!0,t.src=e.src,t.onload=e.onload,n.body.appendChild(t)}else e.onload&&e.onload()},e.delay||0)}(delayScripts[e])}t.method=null,e(n).ready(function(){function a(){c[0].checked&&h()}r();var i=e("#input"),l=e("#output"),c=e("#auto-update"),d=e("#droppable-zone"),u=e("[data-option]"),p=e("#input-type"),s=e("#share-link"),v={};e("#input-type option").toArray().map(function(e){v[e.value]=!0});var h=function(){try{var e="utf-8",t=i.val();p.length&&(e=p.val()),f(e,t),"hex"===e?t=o(t):"utf-8"!==e&&(console.log(e),t=new ZxingTextEncoder(e,{NONSTANDARD_allowLegacyEncoding:!0}).encode(t)),l.val(method(t,u.val()))}catch(e){l.val(e)}},f=function(e,t){if(s.length){var n=location.origin+location.pathname+"?input="+encodeURIComponent(t);p.length&&(n+="&input_type="+e),n.length>2048&&(n="Url is too long!"),s.val(n)}};if(c.length>0&&(i.bind("input propertychange",a),p.bind("input propertychange",a),u.bind("input propertychange",a),c.click(a)),d.length>0){var g=e("#droppable-zone-text");if(e(n.body).bind("dragover drop",function(e){return e.preventDefault(),!1}),!t.FileReader)return g.text("Your browser does not support."),void e("input").attr("disabled",!0);d.bind("dragover",function(){d.addClass("hover")}),d.bind("dragleave",function(){d.removeClass("hover")}),d.bind("drop",function(e){d.removeClass("hover"),m=e.originalEvent.dataTransfer.files[0],g.text(m.name),a()}),i.bind("change",function(){m=i[0].files[0],g.text(m.name),a()});var m;h=function(){reader=new FileReader;var e=u.val();if(method.update){var t=0,n=m.size,a=method;reader.onload=function(t){try{a=a.update(t.target.result,e),o()}catch(e){l.val(e)}};var o=function(){if(t<n){l.val("hashing..."+(t/n*100).toFixed(2)+"%");var e=Math.min(t+2097152,n);reader.readAsArrayBuffer(m.slice(t,e)),t=e}else l.val(a.hex())};o()}else l.val("hashing..."),reader.onload=function(t){try{l.val(method(t.target.result,e))}catch(e){l.val(e)}},reader.readAsArrayBuffer(m)}}else{var y=e("#keep-input"),b=localStorage.getItem("KEEP_INPUT");null!==b&&(y.prop("checked",!0),i.val(b)),y.bind("change",function(){y.prop("checked")?localStorage.setItem("KEEP_INPUT",i.val()||""):localStorage.removeItem("KEEP_INPUT")}),i.bind("input",function(){y.prop("checked")&&localStorage.setItem("KEEP_INPUT",i.val())})}var E={};if(s.length){for(var x=location.search.substring(1),I=x.split("&"),w=0;w<I.length;++w){var _=I[w].split("=");E[_[0]]=_[1]}"utf-8"!==E.input_type&&v[E.input_type]&&p.val(E.input_type),E.input&&i.val(decodeURIComponent(E.input))}e("#execute").click(h);var k=location.pathname.split("/");e('a[href="'+k[k.length-1]+'"]').addClass("active");var A=0;t.methodLoad=function(){++A<waitLoadCount||E.input&&h()}})}(jQuery,window,document);