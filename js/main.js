!function(e,t,a,n){function o(e){if(!e)return[];if(!e.match(/^[0-9a-fA-F]+$/))throw new Error("Input is not a hex string.");e.length%2!=0&&(e="0"+e);for(var t=[],a=0;a<e.length;a+=2){var n=parseInt(e.substr(a,2),16);t.push(n)}return t}function r(e){var t={status:0,load:function(a){t.status||(t.status=1,c({src:e,onload:function(){t.status=2,a&&setTimeout(a)}}))}};return t}function c(e){var t=a.createElement("script");t.async=!0,t.src=e.src,t.onload=e.onload,a.body.appendChild(t)}function d(){for(var e=0;e<delayScripts.length;++e)!function(e){setTimeout(function(){e.src?c(e):e.onload&&e.onload()},e.delay||0)}(delayScripts[e])}function l(e,t){return"hex"===e?t=o(t):"utf-8"!==e&&(t=new TextEncoding.TextEncoder(e,{NONSTANDARD_allowLegacyEncoding:!0}).encode(t)),t}function h(e,t){t=t||64;var a=function(a){if("string"==typeof a){var n,o=[],r=a.length,c=0;for(i=0;i<r;++i)n=a.charCodeAt(i),n<128?o[c++]=n:n<2048?(o[c++]=192|n>>>6,o[c++]=128|63&n):n<55296||n>=57344?(o[c++]=224|n>>>12,o[c++]=128|n>>>6&63,o[c++]=128|63&n):(n=65536+((1023&n)<<10|1023&a.charCodeAt(++i)),o[c++]=240|n>>>18,o[c++]=128|n>>>12&63,o[c++]=128|n>>>6&63,o[c++]=128|63&n);a=o}a.length>t&&(a=e.array(a));var d=[],l=[];for(i=0;i<t;++i){var h=a[i]||0;d[i]=92^h,l[i]=54^h}var u=this;this.current=e.update(l),this.update=function(e){return u.current.update(e),u},this.hex=function(){return e.update(d).update(u.current.array()).hex()}};e.hmac=function(e,t){return new a(e).update(t).hex()},e.hmac.update=function(e,t){return new a(e).update(t)}}function u(){var t=e("#remember-input"),a=e("[data-remember]"),n=localStorage.getItem(v);return n&&(t.prop("checked",!0),a.each(function(){var t=localStorage.getItem(v+"_"+e(this).data("remember"));t&&("checkbox"===this.type?e(this).prop("checked",!0):e(this).val(t))})),t.bind("change",function(){t.prop("checked")?(n=!0,localStorage.setItem(v,"1"),a.trigger("input")):(n=!1,localStorage.removeItem(v),a.each(function(){localStorage.removeItem(v+"_"+e(this).data("remember"))}))}),a.bind("input",function(){if(n){var t=v+"_"+e(this).data("remember");"checkbox"===this.type?e(this).prop("checked")?localStorage.setItem(t,1):localStorage.removeItem(t):localStorage.setItem(t,e(this).val())}}),n}function s(){var t=e("#share-link"),a={};if(t.length){for(var n=location.search.substring(1),o=n.split("&"),r=0;r<o.length;++r){var i=o[r].split("=");a[i[0]]=i[1]}var c=!1;return e("[data-share]").each(function(){var t=e(this).data("share"),n=a[t];if(n){if(n=decodeURIComponent(n),"SELECT"===this.tagName){var o={};e(this).find("option").toArray().map(function(e){o[e.value]=!0}),o[n]&&e(this).val(n)}else"checkbox"===this.type?e(this).prop("checked",!0):e(this).val(n);c=!0}}),c}}t.method=t.method||null,t.downloadMethod=t.downloadMethod||null;var p={encoding:r("js/encoding.min.js?v=1"),encodingIndexes:r("js/encoding-indexes.min.js")};t.onDemandScripts=p;var v="REMEMBER_INPUT";e(a).ready(function(){function n(){v[0].checked&&E()}d();var o=u(),r=s(),i=e("#input"),c=e("#output"),v=e("#auto-update"),f=e("#droppable-zone"),g=e("[data-option]"),m=e("#input-type"),b=e("#share-link"),y=e("#download"),k=e("#download-file-name"),x=e("#hmac"),w=e("#hmac-enabled"),I=e("#hmac-input-type"),C=e("#hmac-key");w.prop("checked")&&x.show(),y.length&&y.click(function(){y.attr("download",k.val());var t=e("#input").val();downloadMethod&&(t=downloadMethod(t)),y.attr("href","data:application/octet-stream;base64,"+t)});var S=function(e){return 1===e&&2!==p.encoding.status?(c.val("loading..."),p.encoding.load(E),!1):2!==e||2===p.encodingIndexes.status||(c.val("loading..."),p.encoding.load(E),p.encodingIndexes.load(E),!1)},E=function(){if(!(L<waitLoadCount))try{var e="utf-8",t=i.val();if(m.length){e=m.val();var a=m.find("option:selected").data("load-encoding");if(!S(a))return}var n,o;if(w.length&&w.prop("checked")){n=C.val(),o=I.val();var a=I.find("option:selected").data("load-encoding");if(!S(a))return}A(e,t,o,n),t=l(e,t),o?(n=l(o,n),method.hmac||h(method),c.val(method.hmac(n,t,g.val()))):c.val(method(t,g.val()))}catch(e){c.val(e)}},A=function(){if(b.length){var t=[];e("[data-share]").each(function(){var a=e(this).data("share"),n="";(n="checkbox"===this.type?e(this).prop("checked")?"1":"":e(this).val())&&t.push(a+"="+encodeURIComponent(n))});var a="";t.length&&(a=location.origin+location.pathname+"?"+t.join("&")),b.val(a)}};if(v.length>0&&(i.bind("input propertychange",n),m.bind("input propertychange",n),C.bind("input propertychange",n),I.bind("input propertychange",n),g.bind("input propertychange",n),v.click(n),w.click(function(){n();var e=w.prop("checked");x.toggle(e)})),f.length>0){var T=e("#droppable-zone-text");if(e(a.body).bind("dragover drop",function(e){return e.preventDefault(),!1}),!t.FileReader)return T.text("Your browser does not support."),void e("input").attr("disabled",!0);f.bind("dragover",function(){f.addClass("hover")}),f.bind("dragleave",function(){f.removeClass("hover")}),f.bind("drop",function(e){f.removeClass("hover"),M=e.originalEvent.dataTransfer.files[0],T.text(M.name),n()}),i.bind("change",function(){M=i[0].files[0],T.text(M.name),n()});var M,R;E=function(){if(M){var e,t;if(w.length&&w.prop("checked")){e=C.val(),t=I.val();var a=I.find("option:selected").data("load-encoding");if(!S(a))return}var n=new FileReader;R=n;var o=g.val();if(method.update){var r=0,i=M.size,d=method;n.onload=function(a){try{t?(e=l(t,e),d=d.hmac.update(e,a.target.result,o),t=null):d=d.update(a.target.result,o),h()}catch(e){c.val(e)}};var h=function(){if(R===n)if(r<i){c.val("hashing..."+(r/i*100).toFixed(2)+"%");var e=Math.min(r+2097152,i);n.readAsArrayBuffer(M.slice(r,e)),r=e}else c.val(d.hex())};h()}else c.val("hashing..."),n.onload=function(a){try{t?(e=l(t,e),c.val(method.hmac(e,a.target.result,o))):c.val(method(a.target.result,o))}catch(e){c.val(e)}},n.readAsArrayBuffer(M)}}}e("#execute").click(E);var j=location.pathname.split("/");e('a[href="'+j[j.length-1]+'"]').addClass("active").closest(".nav-item").find(".nav-dropdown").addClass("active");var L=0;t.methodLoad=function(){++L<waitLoadCount||(r||o)&&E()}})}(jQuery,window,document);