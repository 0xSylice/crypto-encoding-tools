!function(e,n,t,a){function o(e){if(!e.match(/^[0-9a-fA-F]+$/))throw new Error("is not a hex string.");e.length%2!=0&&(e="0"+e);for(var n=[],t=0;t<e.length;t+=2){var a=parseInt(e.substr(t,2),16);n.push(a)}return n}function r(e){var n={status:0,load:function(t){n.status||(n.status=1,i({src:e,onload:function(){n.status=2,t&&setTimeout(t)}}))}};return n}function i(e){var n=t.createElement("script");n.async=!0,n.src=e.src,n.onload=e.onload,t.body.appendChild(n)}function d(){for(var e=0;e<delayScripts.length;++e)!function(e){setTimeout(function(){e.src?i(e):e.onload&&e.onload()},e.delay||0)}(delayScripts[e])}n.method=n.method||null,n.downloadMethod=n.downloadMethod||null;var l={encoding:r("js/encoding.min.js?v=1"),encodingIndexes:r("js/encoding-indexes.min.js")};n.onDemandScripts=l,e(t).ready(function(){function a(){c[0].checked&&m()}d();var r=e("#input"),i=e("#output"),c=e("#auto-update"),u=e("#droppable-zone"),s=e("[data-option]"),p=e("#input-type"),v=e("#share-link"),h=e("#download"),f=e("#download-file-name");h.length&&h.click(function(){h.attr("download",f.val());var n=e("#input").val();downloadMethod&&(n=downloadMethod(n)),h.attr("href","data:application/octet-stream;base64,"+n)});var g={};e("#input-type option").toArray().map(function(e){g[e.value]=!0});var m=function(){try{var e="utf-8",n=r.val();if(p.length){e=p.val();var t=p.find("option:selected").data("load-encoding");if(1===t&&2!==l.encoding.status)return i.val("loading..."),l.encoding.load(m);if(2===t&&2!==l.encodingIndexes.status)return i.val("loading..."),l.encoding.load(m),l.encodingIndexes.load(m)}y(e,n),"hex"===e?n=o(n):"utf-8"!==e&&(n=new TextEncoding.TextEncoder(e,{NONSTANDARD_allowLegacyEncoding:!0}).encode(n)),i.val(method(n,s.val()))}catch(e){i.val(e)}},y=function(e,n){if(v.length){var t=location.origin+location.pathname+"?input="+encodeURIComponent(n);p.length&&(t+="&input_type="+e),s.length&&(t+="&bits="+s.val()),t.length>2048&&(t="Url is too long!"),v.val(t)}};if(c.length>0&&(r.bind("input propertychange",a),p.bind("input propertychange",a),s.bind("input propertychange",a),c.click(a)),u.length>0){var b=e("#droppable-zone-text");if(e(t.body).bind("dragover drop",function(e){return e.preventDefault(),!1}),!n.FileReader)return b.text("Your browser does not support."),void e("input").attr("disabled",!0);u.bind("dragover",function(){u.addClass("hover")}),u.bind("dragleave",function(){u.removeClass("hover")}),u.bind("drop",function(e){u.removeClass("hover"),w=e.originalEvent.dataTransfer.files[0],b.text(w.name),a()}),r.bind("change",function(){w=r[0].files[0],b.text(w.name),a()});var w;m=function(){reader=new FileReader;var e=s.val();if(method.update){var n=0,t=w.size,a=method;reader.onload=function(n){try{a=a.update(n.target.result,e),o()}catch(e){i.val(e)}};var o=function(){if(n<t){i.val("hashing..."+(n/t*100).toFixed(2)+"%");var e=Math.min(n+2097152,t);reader.readAsArrayBuffer(w.slice(n,e)),n=e}else i.val(a.hex())};o()}else i.val("hashing..."),reader.onload=function(n){try{i.val(method(n.target.result,e))}catch(e){i.val(e)}},reader.readAsArrayBuffer(w)}}else{var x=e("#keep-input"),E=localStorage.getItem("KEEP_INPUT");null!==E&&(x.prop("checked",!0),r.val(E)),x.bind("change",function(){x.prop("checked")?localStorage.setItem("KEEP_INPUT",r.val()||""):localStorage.removeItem("KEEP_INPUT")}),r.bind("input",function(){x.prop("checked")&&localStorage.setItem("KEEP_INPUT",r.val())})}var I={};if(v.length){for(var T=location.search.substring(1),k=T.split("&"),_=0;_<k.length;++_){var A=k[_].split("=");I[A[0]]=A[1]}"utf-8"!==I.input_type&&g[I.input_type]&&p.val(I.input_type),I.bits&&s.val(I.bits),I.input&&r.val(decodeURIComponent(I.input))}e("#execute").click(m);var C=location.pathname.split("/");e('a[href="'+C[C.length-1]+'"]').addClass("active");var P=0;n.methodLoad=function(){++P<waitLoadCount||I.input&&m()}})}(jQuery,window,document);