!function(e,t,n,a){function o(e){if(!e.match(/^[0-9a-fA-F]+$/))throw new Error("is not a hex string.");e.length%2!=0&&(e="0"+e);for(var t=[],n=0;n<e.length;n+=2){var a=parseInt(e.substr(n,2),16);t.push(a)}return t}function r(e){d||(d=1,i({src:"js/encoding-indexes.min.js",onload:function(){d=2,setTimeout(e)}}))}function i(e){var t=n.createElement("script");t.async=!0,t.src=e.src,t.onload=e.onload,n.body.appendChild(t)}function l(){for(var e=0;e<delayScripts.length;++e)!function(e){setTimeout(function(){e.src?i(e):e.onload&&e.onload()},e.delay||0)}(delayScripts[e])}t.method=null;var d=0;e(n).ready(function(){function a(){u[0].checked&&g()}l();var i=e("#input"),c=e("#output"),u=e("#auto-update"),p=e("#droppable-zone"),s=e("[data-option]"),v=e("#input-type"),f=e("#share-link"),h={};e("#input-type option").toArray().map(function(e){h[e.value]=!0});var g=function(){try{var e="utf-8",t=i.val();if(v.length&&(e=v.val(),v.find("option:selected").data("load-encoding")&&!d))return c.val("loading..."),r(g);m(e,t),"hex"===e?t=o(t):"utf-8"!==e&&(t=new TextEncoding.TextEncoder(e,{NONSTANDARD_allowLegacyEncoding:!0}).encode(t)),c.val(method(t,s.val()))}catch(e){c.val(e)}},m=function(e,t){if(f.length){var n=location.origin+location.pathname+"?input="+encodeURIComponent(t);v.length&&(n+="&input_type="+e),n.length>2048&&(n="Url is too long!"),f.val(n)}};if(u.length>0&&(i.bind("input propertychange",a),v.bind("input propertychange",a),s.bind("input propertychange",a),u.click(a)),p.length>0){var y=e("#droppable-zone-text");if(e(n.body).bind("dragover drop",function(e){return e.preventDefault(),!1}),!t.FileReader)return y.text("Your browser does not support."),void e("input").attr("disabled",!0);p.bind("dragover",function(){p.addClass("hover")}),p.bind("dragleave",function(){p.removeClass("hover")}),p.bind("drop",function(e){p.removeClass("hover"),b=e.originalEvent.dataTransfer.files[0],y.text(b.name),a()}),i.bind("change",function(){b=i[0].files[0],y.text(b.name),a()});var b;g=function(){reader=new FileReader;var e=s.val();if(method.update){var t=0,n=b.size,a=method;reader.onload=function(t){try{a=a.update(t.target.result,e),o()}catch(e){c.val(e)}};var o=function(){if(t<n){c.val("hashing..."+(t/n*100).toFixed(2)+"%");var e=Math.min(t+2097152,n);reader.readAsArrayBuffer(b.slice(t,e)),t=e}else c.val(a.hex())};o()}else c.val("hashing..."),reader.onload=function(t){try{c.val(method(t.target.result,e))}catch(e){c.val(e)}},reader.readAsArrayBuffer(b)}}else{var E=e("#keep-input"),x=localStorage.getItem("KEEP_INPUT");null!==x&&(E.prop("checked",!0),i.val(x)),E.bind("change",function(){E.prop("checked")?localStorage.setItem("KEEP_INPUT",i.val()||""):localStorage.removeItem("KEEP_INPUT")}),i.bind("input",function(){E.prop("checked")&&localStorage.setItem("KEEP_INPUT",i.val())})}var I={};if(f.length){for(var T=location.search.substring(1),w=T.split("&"),_=0;_<w.length;++_){var k=w[_].split("=");I[k[0]]=k[1]}"utf-8"!==I.input_type&&h[I.input_type]&&v.val(I.input_type),I.input&&i.val(decodeURIComponent(I.input))}e("#execute").click(g);var A=location.pathname.split("/");e('a[href="'+A[A.length-1]+'"]').addClass("active");var C=0;t.methodLoad=function(){++C<waitLoadCount||I.input&&g()}})}(jQuery,window,document);